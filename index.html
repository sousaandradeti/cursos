<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Confirma√ß√£o de Curso</title>

<style>
    body { font-family: Arial; background:#f7f7f7; padding:40px; }
    .box { background:white; max-width:400px; margin:auto; padding:30px; border-radius:10px; box-shadow:0 0 10px #00000015; }
    h2 { text-align:center; }
    input, button{
        width:100%; padding:12px; margin-top:10px; border-radius:6px; font-size:16px;
    }
    button{ background:#0176ff; color:white; cursor:pointer; border:none;}
    button:hover{ background:#005ad1; }

    /* --- Estilos para o Seletor de Emojis (Rating) --- */
    .rating-box {
        display: flex;
        justify-content: center;
        direction: rtl; /* Inverte a ordem para que o 5 fique √† direita */
        margin: 15px 0;
    }

    .rating-box input[type="radio"] {
        display: none;
    }

    .rating-box label {
        font-size: 40px;
        color: #ccc; 
        cursor: pointer;
        padding: 0 5px;
        transition: color 0.2s, transform 0.2s;
        /* Adicionado para posicionar o √≠cone de check corretamente */
        position: relative; 
    }

    /* Define os emojis para cada ponto */
    .rating-box label[for="star5"]::before { content: 'üòÄ'; }
    .rating-box label[for="star4"]::before { content: 'üôÇ'; }
    .rating-box label[for="star3"]::before { content: 'üòê'; }
    .rating-box label[for="star2"]::before { content: 'üôÅ'; }
    .rating-box label[for="star1"]::before { content: 'üò†'; }

    /* Efeito de hover e sele√ß√£o */
    .rating-box label:hover,
    .rating-box label:hover ~ label,
    .rating-box input[type="radio"]:checked ~ label {
        color: #ffc107;
        transform: scale(1.1);
    }

    .rating-box input[type="radio"]:checked + label {
        color: #ff9800;
    }

    /* --- NOVO ESTILO PARA O CHECK DE SELE√á√ÉO --- */
    .rating-box input[type="radio"]:checked + label::after {
        content: '\2713'; /* S√≠mbolo Unicode para checkmark (‚úì) */
        position: absolute;
        bottom: -15px; /* Deslocamento para baixo */
        left: 50%;
        transform: translateX(-50%); /* Centraliza */
        background-color: #28a745; /* Fundo verde */
        color: white;
        font-size: 14px;
        line-height: 1;
        padding: 3px 6px;
        border-radius: 50%; /* Formato de c√≠rculo */
        z-index: 10;
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }
</style>
</head>
<body>

<div class="box">
    <h2>Cursos Sousa Andrade Academy</h2>

    <form method="POST" action="https://script.google.com/macros/s/AKfycbyxJcX4G0468ooL8qKWKZEUJgVFH2z9jtwbdNeDCht2Fnx_Y7MbWUEy9T-ZkCg_d9j5/exec">
        <input type="text" name="nome" placeholder="Seu nome" required>
        <input type="email" name="email" placeholder="Seu email" required>
        <input type="hidden" name="curso" id="curso">
        
        <label id="course-label" style="margin-top: 15px; display: block;">Sua Avalia√ß√£o do Curso:</label>
        <div class="rating-box">
            <input type="radio" id="star5" name="nota" value="5" required />
            <label for="star5" title="Excelente (5)"></label>

            <input type="radio" id="star4" name="nota" value="4" />
            <label for="star4" title="Bom (4)"></label>

            <input type="radio" id="star3" name="nota" value="3" />
            <label for="star3" title="Razo√°vel (3)"></label>

            <input type="radio" id="star2" name="nota" value="2" />
            <label for="star2" title="Ruim (2)"></label>

            <input type="radio" id="star1" name="nota" value="1" />
            <label for="star1" title="Muito Ruim (1)"></label>
        </div>

        <input type="hidden" name="status" id="status">
        
        <button type="submit">Concluir</button>
    </form>
</div>

<script>
    // Usa o objeto URLSearchParams para ler os par√¢metros
    const p = new URLSearchParams(window.location.search);
    const courseLabel = document.getElementById("course-label");

    // --- Fun√ß√£o Simples de Capitaliza√ß√£o ---
    function capitalizeFirstLetter(string) {
        if (!string) return '';
        string = string.toLowerCase();
        return string.charAt(0).toUpperCase() + string.slice(1);
    }
    // ----------------------------------------
    
    // --- 1. L√≥gica para o Curso ---
    let cursoValue = p.get("curso");
    
    if (cursoValue) {
        let displayName = cursoValue.replace(/_/g, ' ');
        displayName = displayName.split(' ').map((word, index) => {
            return (index === 0) ? capitalizeFirstLetter(word) : word;
        }).join(' ');
        
        document.getElementById("curso").value = cursoValue;
        
        courseLabel.textContent = `Sua Avalia√ß√£o do Curso: ${displayName}`;
        console.log("Curso lido e formatado para exibi√ß√£o:", displayName);
    } else {
        courseLabel.textContent = "Sua Avalia√ß√£o do Curso:";
        console.warn("Par√¢metro 'curso' ausente na URL. Usando texto padr√£o.");
    }

    // --- 2. L√≥gica para o Status ---
    const statusValue = p.get("status");
    if (statusValue) {
        document.getElementById("status").value = statusValue;
        console.log("Status lido da URL:", statusValue);
    }
</script>

</body>
</html>
